var Ht=Object.create;var H=Object.defineProperty,kt=Object.defineProperties,Ot=Object.getOwnPropertyDescriptor,xt=Object.getOwnPropertyDescriptors,Nt=Object.getOwnPropertyNames,A=Object.getOwnPropertySymbols,jt=Object.getPrototypeOf,B=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;var lt=(t,r,o)=>r in t?H(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,dt=(t,r)=>{for(var o in r||(r={}))B.call(r,o)&&lt(t,o,r[o]);if(A)for(var o of A(r))ut.call(r,o)&&lt(t,o,r[o]);return t},ft=(t,r)=>kt(t,xt(r));var pt=(t,r)=>{var o={};for(var l in t)B.call(t,l)&&r.indexOf(l)<0&&(o[l]=t[l]);if(t!=null&&A)for(var l of A(t))r.indexOf(l)<0&&ut.call(t,l)&&(o[l]=t[l]);return o};var At=(t,r)=>{for(var o in r)H(t,o,{get:r[o],enumerable:!0})},mt=(t,r,o,l)=>{if(r&&typeof r=="object"||typeof r=="function")for(let m of Nt(r))!B.call(t,m)&&m!==o&&H(t,m,{get:()=>r[m],enumerable:!(l=Ot(r,m))||l.enumerable});return t};var vt=(t,r,o)=>(o=t!=null?Ht(jt(t)):{},mt(r||!t||!t.__esModule?H(o,"default",{value:t,enumerable:!0}):o,t)),Lt=t=>mt(H({},"__esModule",{value:!0}),t);var Vt={};At(Vt,{OTPInput:()=>bt,OTPInputContext:()=>St,REGEXP_ONLY_CHARS:()=>Gt,REGEXP_ONLY_DIGITS:()=>X,REGEXP_ONLY_DIGITS_AND_CHARS:()=>zt});module.exports=Lt(Vt);var n=vt(require("react"));var X="^\\d+$",Gt="^[a-zA-Z]+$",zt="^[a-zA-Z0-9]+$";function Rt(t){let r=setTimeout(t,0),o=setTimeout(t,10),l=setTimeout(t,50);return[r,o,l]}var L=vt(require("react"));function gt(t){let r=L.useRef();return L.useEffect(()=>{r.current=t}),r.current}var St=n.createContext({}),bt=n.forwardRef(($t,ht)=>{var K=$t,{value:t,onChange:r,maxLength:o,textAlign:l="left",pattern:m=X,inputMode:Y="numeric",onComplete:O,containerClassName:Et,noScriptCSSFallback:U=Ft,render:G,children:Z}=K,s=pt(K,["value","onChange","maxLength","textAlign","pattern","inputMode","onComplete","containerClassName","noScriptCSSFallback","render","children"]);var j,ot,rt,at,st;let[wt,yt]=n.useState(typeof s.defaultValue=="string"?s.defaultValue:""),u=t!=null?t:wt,w=gt(u),M=n.useCallback(e=>{r==null||r(e),yt(e)},[r]),p=n.useMemo(()=>m?typeof m=="string"?new RegExp(m):m:null,[m]),i=n.useRef(null),W=n.useRef(null),z=n.useRef({value:u,onChange:M,isIOS:typeof window!="undefined"&&((ot=(j=window==null?void 0:window.CSS)==null?void 0:j.supports)==null?void 0:ot.call(j,"-webkit-touch-callout","none"))}),x=n.useRef({prev:[(rt=i.current)==null?void 0:rt.selectionStart,(at=i.current)==null?void 0:at.selectionEnd,(st=i.current)==null?void 0:st.selectionDirection]});n.useImperativeHandle(ht,()=>i.current,[]),n.useEffect(()=>{let e=i.current,a=W.current;if(!e||!a)return;z.current.value!==e.value&&z.current.onChange(e.value),x.current.prev=[e.selectionStart,e.selectionEnd,e.selectionDirection];function d(){if(document.activeElement!==e){C(null),D(null);return}let c=e.selectionStart,R=e.selectionEnd,b=e.selectionDirection,P=e.maxLength,I=e.value,g=x.current.prev,v=-1,E=-1,h;if(I.length!==0&&c!==null&&R!==null){let Mt=c===R,Ct=c===I.length&&I.length<P;if(Mt&&!Ct){let _=c;if(_===0)v=0,E=1,h="forward";else if(_===P)v=_-1,E=_,h="backward";else if(P>1&&I.length>1){let $=0;if(g[0]!==null&&g[1]!==null){h=_<g[1]?"backward":"forward";let Dt=g[0]===g[1]&&g[0]<P;h==="backward"&&!Dt&&($=-1)}v=$+_,E=$+_+1}}v!==-1&&E!==-1&&v!==E&&i.current.setSelectionRange(v,E,h)}let it=v!==-1?v:c,ct=E!==-1?E:R,Tt=h!=null?h:b;C(it),D(ct),x.current.prev=[it,ct,Tt]}if(document.addEventListener("selectionchange",d,{capture:!0}),d(),document.activeElement===e&&F(!0),!document.getElementById("input-otp-style")){let c=document.createElement("style");if(c.id="input-otp-style",document.head.appendChild(c),c.sheet){let R="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";k(c.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),k(c.sheet,`[data-input-otp]:autofill { ${R} }`),k(c.sheet,`[data-input-otp]:-webkit-autofill { ${R} }`),k(c.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),k(c.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let f=()=>{a&&a.style.setProperty("--root-height",`${e.clientHeight}px`)};f();let S=new ResizeObserver(f);return S.observe(e),()=>{document.removeEventListener("selectionchange",d,{capture:!0}),S.disconnect()}},[]);let[q,J]=n.useState(!1),[N,F]=n.useState(!1),[y,C]=n.useState(null),[T,D]=n.useState(null);n.useEffect(()=>{Rt(()=>{var f,S,c,R;(f=i.current)==null||f.dispatchEvent(new Event("input"));let e=(S=i.current)==null?void 0:S.selectionStart,a=(c=i.current)==null?void 0:c.selectionEnd,d=(R=i.current)==null?void 0:R.selectionDirection;e!==null&&a!==null&&(C(e),D(a),x.current.prev=[e,a,d])})},[u,N]),n.useEffect(()=>{w!==void 0&&u!==w&&w.length<o&&u.length===o&&(O==null||O(u))},[o,O,w,u]);let Q=n.useCallback(e=>{let a=e.currentTarget.value.slice(0,o);if(a.length>0&&p&&!p.test(a)){e.preventDefault();return}typeof w=="string"&&a.length<w.length&&document.dispatchEvent(new Event("selectionchange")),M(a)},[o,M,w,p]),tt=n.useCallback(()=>{var e;if(i.current){let a=Math.min(i.current.value.length,o-1),d=i.current.value.length;(e=i.current)==null||e.setSelectionRange(a,d),C(a),D(d)}F(!0)},[o]),et=n.useCallback(e=>{var g,v;let a=i.current;if(!z.current.isIOS||!e.clipboardData||!a)return;let d=e.clipboardData.getData("text/plain");e.preventDefault();let f=(g=i.current)==null?void 0:g.selectionStart,S=(v=i.current)==null?void 0:v.selectionEnd,b=(f!==S?u.slice(0,f)+d+u.slice(S):u.slice(0,f)+d+u.slice(f)).slice(0,o);if(b.length>0&&p&&!p.test(b))return;a.value=b,M(b);let P=Math.min(b.length,o-1),I=b.length;a.setSelectionRange(P,I),C(P),D(I)},[o,M,p,u]),Pt=n.useMemo(()=>({position:"relative",cursor:s.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[s.disabled]),nt=n.useMemo(()=>({position:"absolute",inset:0,width:"100%",height:"100%",display:"flex",textAlign:l,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[l]),It=n.useMemo(()=>n.createElement("input",ft(dt({},s),{"data-input-otp":!0,"data-input-otp-mss":y,"data-input-otp-mse":T,inputMode:Y,pattern:p==null?void 0:p.source,style:nt,maxLength:o,value:u,ref:i,onPaste:e=>{var a;et(e),(a=s.onPaste)==null||a.call(s,e)},onChange:Q,onMouseOver:e=>{var a;J(!0),(a=s.onMouseOver)==null||a.call(s,e)},onMouseLeave:e=>{var a;J(!1),(a=s.onMouseLeave)==null||a.call(s,e)},onFocus:e=>{var a;tt(),(a=s.onFocus)==null||a.call(s,e)},onBlur:e=>{var a;F(!1),(a=s.onBlur)==null||a.call(s,e)}})),[Q,tt,et,Y,nt,o,T,y,s,p==null?void 0:p.source,u]),V=n.useMemo(()=>({slots:Array.from({length:o}).map((e,a)=>{let d=N&&y!==null&&T!==null&&(y===T&&a===y||a>=y&&a<T),f=u[a]!==void 0?u[a]:null;return{char:f,isActive:d,hasFakeCaret:d&&f===null}}),isFocused:N,isHovering:!s.disabled&&q}),[N,q,o,T,y,s.disabled,u]),_t=n.useMemo(()=>G?G(V):n.createElement(St.Provider,{value:V},Z),[Z,V,G]);return n.createElement(n.Fragment,null,U!==null&&n.createElement("noscript",null,n.createElement("style",null,U)),n.createElement("div",{ref:W,"data-input-otp-container":!0,style:Pt,className:Et},_t,n.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},It)))});bt.displayName="Input";function k(t,r){try{t.insertRule(r)}catch(o){console.error("input-otp could not insert CSS rule:",r)}}var Ft=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;0&&(module.exports={OTPInput,OTPInputContext,REGEXP_ONLY_CHARS,REGEXP_ONLY_DIGITS,REGEXP_ONLY_DIGITS_AND_CHARS});
//# sourceMappingURL=index.js.map